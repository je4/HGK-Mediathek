
<!doctype html>

<html lang="en" class="no-js">

<head>

    <!-- meta data -->

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name=viewport content="width=device-width, initial-scale=1">
	<meta name="description" content="HGK Mediathek am Campus der Künste">
	<meta name="keywords" content="art, book, media, video, audio">
	<meta name="author" content="Tabea Lurk and Jürgen Enge">

    <!-- title and favicon -->

    <title>Mediathek - Summe 2017</title>
    <link rel="icon" href="assets/img/icon/fav_icon.gif">


    <!--necessary stylesheets -->

    <link type="text/css" rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="assets/css/font-awesome.min.css">
    <link type="text/css" rel="stylesheet" href="assets/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="assets/css/popup.css">
    <link type="text/css" rel="stylesheet" href="assets/css/style.css">
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <link type="text/css" rel="stylesheet" href="css/mediathek.css">
    <link type="text/css" rel="stylesheet" href="css/dataTables.bootstrap4.min.css">

    <!--[if IE]>
		<style>
		    .flip-container:hover .back,
			.flip-container.hover .back {
			    backface-visibility: visible !important;
			}
		</style>
	<![endif]-->

<style>
.pagination>.active>a,
.pagination>.active>a:focus,
.pagination>.active>a:hover,
.pagination>.active>span,
.pagination>.active>span:focus,
.pagination>.active>span:hover {
    background-color: #E04E39;
    border-color: #E04E39;
  }
  .pagination>li>a,
  .pagination>li>span {
      color: #E04E39;
  }

  .form-control {
    color: #E04E39;
  }

  .modal-dialog {
    margin-top: 60px;
    width: 670px;
  }
  #playlist {
    display:table;
}
#playlist li{
    cursor:pointer;
    padding:2px;
}

#playlist li:hover{
    color:blue;
}
.headline {
  vertical-align: middle;
  color: white;
  font-size: 36pt;
  padding-top: -5px;
  padding-bottom: 30px;
  padding-left: 30px;
  padding-right: 30px;
  margin: 0px;
  height: 95px;
}
#headline_left {
  float: left;
}

.headline>span {
  display:inline-block;
  font-weight: bold;
  font-size: 56px;
  margin-left: 20px;
  transform:scale( 2, 1 ) rotate(20deg);
}
#headline_right {
  float: right;
}
</style>

</head>


<body>

<div id="fhnwtop" style="background-color: #E04E39; height: 95px; vertical-align: middle; position: fixed; width: 100%;">
  <div class="headline" id="headline_left">Video &dash; <span>&sum;</span></div>
  <div class="headline" id="headline_right"><span style="color: transparent;">&sum;</span> Summe November 2017</div>
</div>


	<!-- general purpos modal dialog box -->
	<div class="modal fade" id="MTModal" tabindex="-1" role="dialog" aria-labelledby="MTModal" aria-hidden="true">
	  <div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			  </button>
        <h4 class="modal-title" id="exampleModalLabel">Kiste</h4>
        <h5 class="modal-subtitle" id="exampleModalLabel"></h5>
			</div>
			<div class="modal-body">
        <center>
            <video id="thevideo" width="640" controls src=""></video>
        </center><br />
        <ul id="playlist">
        </ul>
			</div>
		</div>
	  </div>
	</div>

<div id="fullsearch" class="fullsearch-page container-fluid page">
    <div class="row">
            <!--( a ) Profile Page Fixed Image Portion -->


            <div class="content-container col-md-12">
                <div class="clearfix full-height">
                    <!-- h2 class="small-heading">Summe 2017</h2 -->
					<div class="container-fluid" style="margin-top: 110px; padding: 0px 20px 20px 20px;">
<!-- <h3>Gatekeeper</h3> -->


	        <table id="eventtable2" class="table" data-page-length='10'>
	          <thead>
	            <tr>
                <th></th>
                <th>KünstlerIn</th>
	              <th>Jahr</th>
	              <th>Titel</th>
                <th>Art</th>
	            </tr>
	          </thead>
	          <tbody>
	          </tbody>
	        </table>
					</div>

				</div>
			</div>
	<div class="footer clearfix">
		<div class="row">
			<div class="col-md-10 col-md-offset-1 col-xs-10 col-xs-offset-1">
				<div class="row">
					<div class="col-md-6 col-sm-12 col-xs-12">
						<p class="copyright">Copyright &copy; 2017 Mediathek HGK
						</p>
					</div>

					<div class="col-md-6 col-sm-12 col-xs-12">
						<p class="author">
							HGK FHNW
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>

<script>

var videoBase = 'https://ba14ns21403.fhnw.ch/video/open/summe2017/';
var thumbBase = videoBase + 'thumbs/';

function initPlaylist() {
    $("#playlist li").on("click", function() {
        $("#thevideo").attr({
            "src": $(this).attr("movieurl"),
            "autoplay": "autoplay"
        })
    })
}

function init() {


  $('#MTModal').on('show.bs.modal', function (event) {
	  var button = $(event.relatedTarget) // Button that triggered the modal
	  var video = button.data('video').split(';'); // Extract info from data-* attributes
    var title = button.data('title');
    var subtitle = button.data('subtitle');
	  if ( typeof video == 'undefined' ) {
        return;
      }
	  // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
	  // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
	  var modal = $(this)
    modal.find('.modal-title').html(decodeURI(title));
    modal.find('.modal-subtitle').html(decodeURI(subtitle));
    $("#thevideo").attr({
        "src": videoBase+video[0],
        "autoplay": "autoplay"
    });
    var playlist = $("#playlist");
    playlist.empty();
    var str = '';
    for( i = 0; i < video.length; i++ ) {
      str += '<li movieurl="'+videoBase+video[i]+'">'+decodeURI(video[i])+'</li>';
    }
	  playlist.append( str );
    initPlaylist();
		});

	$('#MTModal').on('hidden.bs.modal', function (event) {
	  var modal = $(this)
	  var button = $(event.relatedTarget) // Button that triggered the modal
    $("#thevideo").attr({
        "src": '',
        "autoplay": "autoplay"
    });
	})

function buildVideoLinks( full ) {
  var link = '';
  if( full['info'] != undefined ) {
    link = encodeURI(full['info'][0]['video']);
    for( i = 1; i < full['info'].length; i++ ) {
      link += ';'+encodeURI(full['info'][i]['video']);
    }
  }
  return link;
}

 $('#eventtable2').DataTable( {
	 ajax: 'summe2017.json',
   "lengthChange": false,
   paging: false,
	 "order": [[ 1, "asc" ]],
	 "columnDefs": [ {
      "targets": 3,
      "render": function ( data, type, full, meta ) {
        var img = data+' [#'+full['formid']+']';
        if( full['info'] != null ) {
          if( full['info'][0]['video'] != null && full['info'][0]['video'] != undefined ) {
            var links = buildVideoLinks( full );
            img = '<a style="padding: 0px;" href="#" classx="btn btn-default" data-json="" data-toggle="modal" data-target="#MTModal" data-subtitle="'+encodeURI(full[1])+'" data-title="'+encodeURI(full[3]+' ('+full[2]+')')+'" data-video="'+links+'">'
            +img+'</a>';
          }
        }
        return img;
      }
    },
    {
       "targets": 0,
       "orderable": false,
       "render": function ( data, type, full, meta ) {
         var img = '<div style="width: 100px;">&nbsp;</div>';
         if( full['info'] != null && full['info'][0] != null ) {
           if( full['info'][0]['thumbs'] != null && full['info'][0]['thumbs'][2] != undefined  ) {
             img = '<img src="'+videoBase+encodeURI(full['info'][0]['thumbs'][2])+'" width="100px" />';
           }
           if( full['info'][0]['video'] != null && full['info'][0]['video'] != undefined ) {
             var links = buildVideoLinks( full );
             img = '<a style="padding: 0px;" href="#" class="btn btn-default" data-json="" data-toggle="modal" data-target="#MTModal" data-subtitle="'+encodeURI(full[1])+'" data-title="'+encodeURI(full[3]+' ('+full[2]+')')+'" data-video="'+links+'">'
             +img+'</a>';
           }
         }
         return img;
       }
     } ]
 });

}
</script>


<script type="text/javascript" src="assets/js/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
<script type="text/javascript" src="assets/js/modernizr.js"></script>
<script type="text/javascript" src="assets/js/jquery.easing.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.mixitup.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.popup.min.js"></script>
<script type="text/javascript" src="assets/js/owl.carousel.min.js"></script>
<script type="text/javascript" src="assets/js/contact.js"></script>
<script type="text/javascript" src="assets/js/script.js"></script>
<script type="text/javascript" src="js/mediathek_helper.js"></script>
<script type="text/javascript" src="js/mediathek_gui.js"></script>
<script type="text/javascript" src="js/md5.min.js"></script>
<script type="text/javascript" src="js/tether.min.js"></script>
<script type="text/javascript" src="js/bootstrap-editable.js"></script>
<script type="text/javascript" src="js/jstree.min.js"></script>

    <script type="text/javascript" src="js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="js/dataTables.bootstrap4.min.js"></script>
	<script language="javascript">
	   $( document ).ready(function() {
		   return;

		   init();
	   });
	</script>

</body>
</html>
